:root {
    --primary: #6366f1;
    --primary-hover: #4f46e5;
    --secondary: #64748b;
    --success: #10b981;
    --danger: #ef4444;
    --bg: #f1f5f9;
    --card-bg: #ffffff;
    --text-main: #1e293b;
    --text-muted: #64748b;
    --border: #e2e8f0;
    --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

body {
    font-family: 'Poppins', sans-serif;
    background-color: var(--bg);
    margin: 0;
    padding: 40px 20px;
    color: var(--text-main);
}

.container {
    max-width: 1100px;
    margin: 0 auto;
}

h1 {
    font-weight: 600;
    color: var(--text-main);
    margin-bottom: 30px;
    font-size: 1.8rem;
    display: flex;
    align-items: center;
    gap: 10px;
}

h1::before {
    content: "âœ¨"; /* Simple emoji icon */
}

h2 {
    font-size: 1.2rem;
    margin-top: 0;
    color: var(--text-main);
    border-bottom: 2px solid var(--bg);
    padding-bottom: 10px;
    margin-bottom: 20px;
}

.subtitle {
    font-size: 0.85em; 
    color: var(--text-muted);
    margin-top: -15px;
    margin-bottom: 20px;
}

/* --- CARDS & LAYOUT --- */
.card {
    background: var(--card-bg);
    padding: 30px;
    border-radius: 16px;
    box-shadow: var(--shadow);
    border: 1px solid white;
    transition: transform 0.2s;
    margin-bottom: 40px;
}

.card:hover {
    transform: translateY(-2px);
}

.grid {
    display: grid;
    grid-template-columns: 350px 1fr;
    gap: 25px;
    align-items: start;
    margin-bottom: 60px;
}

.grid-inner {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
}

@media (max-width: 900px) {
    .grid { grid-template-columns: 1fr; }
}

/* --- FORMS --- */
.form-group { margin-bottom: 20px; }
.mt-15 { margin-top: 20px; }

label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    font-size: 0.9rem;
    color: var(--text-muted);
}

input, select {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid var(--border);
    border-radius: 8px;
    font-family: inherit;
    font-size: 0.95rem;
    background: #f8fafc;
    transition: all 0.2s;
    box-sizing: border-box;
}

input:focus, select:focus {
    outline: none;
    border-color: var(--primary);
    background: white;
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

/* --- BUTTONS --- */
button {
    background-color: var(--primary);
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 500;
    font-size: 0.95rem;
    width: 100%;
    transition: all 0.2s;
    box-shadow: 0 4px 6px rgba(99, 102, 241, 0.2);
}

button:hover { 
    background-color: var(--primary-hover); 
    transform: translateY(-1px);
}

button:active { transform: translateY(0); }

button.secondary { 
    background-color: white;
    color: var(--text-main);
    border: 1px solid var(--border);
    box-shadow: none;
}
button.secondary:hover {
    background-color: #f8fafc;
    border-color: var(--primary);
    color: var(--primary);
}

button.small-btn { 
    width: auto; 
    padding: 8px 16px; 
    font-size: 0.85em; 
}

button.delete-btn {
    background-color: #fee2e2;
    color: var(--danger);
    padding: 6px 12px;
    font-size: 0.8rem;
    box-shadow: none;
    width: auto;
}
button.delete-btn:hover {
    background-color: var(--danger);
    color: white;
}

/* --- INVENTORY LIST & RECIPE --- */
.scroll-list {
    max-height: 250px;
    overflow-y: auto;
    border: 1px solid var(--border);
    border-radius: 8px;
    margin-top: 15px;
}

.material-selector-box {
    background: #f8fafc;
    padding: 20px;
    border-radius: 12px;
    border: 1px dashed var(--border);
}

.selector-controls {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

.qty-input { width: 100px; }

.recipe-item {
    display: flex;
    justify-content: space-between;
    background: white;
    padding: 10px 15px;
    margin-bottom: 8px;
    border-radius: 6px;
    font-size: 0.9em;
    border: 1px solid var(--border);
    align-items: center;
}

/* --- TABLES --- */
.table-responsive {
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid var(--border);
}

table {
    width: 100%;
    border-collapse: collapse;
    background: white;
}

th, td {
    text-align: left;
    padding: 15px;
    border-bottom: 1px solid var(--border);
    font-size: 0.95rem;
}

th {
    background-color: #f8fafc;
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    font-size: 0.75rem;
    letter-spacing: 0.05em;
}

/* --- PROFIT MARGIN VISUALS --- */
.margin-badge {
    display: inline-block;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 600;
}
.margin-high { background: #d1fae5; color: #065f46; }
.margin-med { background: #ffedd5; color: #9a3412; }
.margin-low { background: #fee2e2; color: #991b1b; }

/* Visual Bar inside the table */
.profit-bar-bg {
    width: 100px;
    height: 6px;
    background: #e2e8f0;
    border-radius: 3px;
    margin-top: 5px;
    overflow: hidden;
}
.profit-bar-fill {
    height: 100%;
    border-radius: 3px;
}
/* --- ACTION BUTTONS (New) --- */
.action-btn {
    padding: 6px 10px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
    margin-right: 5px;
    font-size: 0.85rem;
    transition: transform 0.2s;
    width: auto;
    display: inline-block;
}

.action-btn:hover { transform: scale(1.1); }

.btn-edit {
    background-color: #fbbf24; /* Amber */
    color: #92400e;
}

.btn-delete {
    background-color: #fee2e2; /* Soft Red */
    color: #dc2626;
}
/* Add this to the bottom of style.css */

#materialTable td:last-child {
    display: flex;       /* Enables flexible layout */
    gap: 5px;            /* Adds space between buttons */
    white-space: nowrap; /* Forces buttons to stay on one line */
    border-bottom: 1px solid var(--border); /* Keeps the border structure */
}

/* Optional: Adjust button padding if they still look too big */
.action-btn {
    padding: 6px 8px; /* Slightly smaller padding */
}

/* --- COMPACT INVENTORY TABLE (Fixes Alignment & Scrolling) --- */

/* 1. Force the table to fit strictly within the sidebar width */
#materialTable {
    width: 100%;
    table-layout: fixed; /* This prevents the table from growing wider than its container */
}

/* 2. Shrink the padding for this specific table (Global padding was too big) */
#materialTable th, 
#materialTable td {
    padding: 10px 4px; /* Less side padding */
    font-size: 0.85rem; /* Slightly smaller text for compact look */
    word-wrap: break-word; /* Prevents long text from breaking layout */
}

/* 3. Define exact column widths so they sum up to 100% */
#materialTable th:nth-child(1) { width: 40%; } /* Name column */
#materialTable th:nth-child(2) { width: 25%; } /* Cost column */
#materialTable th:nth-child(3) { width: 35%; text-align: center; } /* Action column */

/* 4. Center and Align the Action Buttons */
#materialTable td:last-child {
    display: flex;       
    justify-content: center; /* Centers buttons horizontally */
    gap: 4px;            /* Tiny gap between buttons */
    border-bottom: 1px solid var(--border);
}

/* 5. Make the buttons smaller to fit the tight space */
#materialTable .action-btn {
    padding: 4px 6px;
    font-size: 0.75rem;
}

/* 1. Add space between the "Add" button and the list */
.card h3 {
    margin-top: 35px;       /* Pushes "Your Materials" down */
    margin-bottom: 15px;    /* Adds space below the title */
    font-size: 0.95rem;
    color: var(--text-muted);
    font-weight: 600;
    text-transform: uppercase; /* Makes it look like a pro dashboard header */
    letter-spacing: 0.05em;
}

/* 2. Create a nice "Frame" for the list */
.scroll-list {
    max-height: 250px;
    overflow-y: auto;
    
    /* New Styling */
    border: 1px solid var(--border);
    border-radius: 12px;       /* Soft rounded corners */
    background: #ffffff;       /* Clean white background */
    box-shadow: 0 2px 5px rgba(0,0,0,0.03); /* Very subtle shadow for depth */
}

/* 3. Polish the Table Header to look distinct */
#materialTable thead th {
    background-color: #f8fafc; /* Light grey background for headers */
    color: #64748b;            /* Muted text color */
    padding: 12px 10px;        /* More breathing room */
    border-bottom: 2px solid var(--border); /* Stronger separator line */
}

/* 4. Add breathing room to table rows */
#materialTable td {
    padding: 12px 10px;        /* More space inside cells */
    vertical-align: middle;    /* Centers text vertically */
}

/* --- BUSINESS WALLET (Fintech Style) --- */
.wallet-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 20px;
    margin-top: 20px;
}

@media (max-width: 768px) {
    .wallet-grid { grid-template-columns: 1fr; }
}

.stat-card {
    padding: 20px;
    border-radius: 12px;
    position: relative;
    border: 1px solid transparent;
    transition: transform 0.2s;
}

.stat-card:hover { transform: translateY(-2px); }

/* Color Variants */
.stat-revenue { background: #ecfdf5; border-color: #a7f3d0; color: #065f46; } /* Soft Green */
.stat-cost { background: #fef2f2; border-color: #fecaca; color: #991b1b; }    /* Soft Red */
.stat-expense { background: #fff7ed; border-color: #fed7aa; color: #9a3412; } /* Soft Orange */
.stat-profit { 
    background: #eff6ff; 
    border-color: #bfdbfe; 
    color: #1e40af; 
    grid-column: span 3; /* Make Profit take full width */
    text-align: center;
}

/* Typography inside cards */
.stat-label {
    font-size: 0.85rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    opacity: 0.8;
    margin-bottom: 10px;
    display: block;
}

.stat-value {
    font-size: 1.8rem;
    font-weight: 700;
    display: block;
}

/* Custom Input for Expenses */
.expense-input-group {
    display: flex;
    align-items: center;
    background: white;
    border: 1px solid #fed7aa; /* Matches Orange Theme */
    border-radius: 6px;
    padding: 5px 10px;
    margin-top: 5px;
}

.expense-input {
    border: none;
    background: transparent;
    font-size: 1.2rem;
    font-weight: bold;
    color: #9a3412;
    width: 100%;
    outline: none;
}

/* --- MOBILE RESPONSIVENESS (The Final Touch) --- */

@media (max-width: 900px) {
    
    /* 1. Stack the Main Layout (Inventory on top, Builder below) */
    .grid {
        grid-template-columns: 1fr; /* Single column */
        gap: 30px;
        margin-bottom: 40px;
    }

    /* 2. Stack the Business Wallet cards */
    .wallet-grid {
        grid-template-columns: 1fr; /* Single column */
    }

    /* 3. Make the "Profit" card nicely separate on mobile */
    .stat-profit {
        grid-column: span 1; /* Reset from spanning 3 columns to just 1 */
        margin-top: 10px;
    }

    /* 4. Adjust the Inventory Table for small screens */
    #materialTable th, 
    #materialTable td {
        font-size: 0.8rem; /* Slightly smaller text */
        padding: 10px 2px; /* Tighten padding */
    }

    /* 5. Fix the "Action" buttons for touch screens */
    #materialTable .action-btn {
        padding: 8px 10px; /* Bigger touch target for fingers */
        font-size: 1rem;   /* Bigger icons */
    }

    /* 6. Adjust container padding so it doesn't hit the screen edges */
    body {
        padding: 15px;
    }
    
    .container {
        width: 100%;
    }

    /* 7. Stack the "Labor" inputs (Time and Rate) */
    .grid-inner {
        grid-template-columns: 1fr; /* Stack inputs vertically */
        gap: 15px;
    }
}